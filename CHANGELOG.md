## v2.0.20

- 优化本地语言识别不准确时的处理逻辑
- 修复 MacOS 编译 Safari 插件脚本错误
- 优化调整划词翻译逻辑
  - 修复移动端不显示header的bug
  - 仅对翻译框的大小和位置持久化，其他设置不持久化，仅在当前页面生效
  - 修复翻译框有时会突然变成0,0位置，和0,0大小的bug
- 修复移动端输入框翻译圆点按钮无效的bug
- youtube视频右边的字幕滚动列表可以在设置中选择关闭
- 接口设置中增加`复制接口`功能
- 修复接口权重排序在popup无效的bug
- 规则设置增加`扫描全部节点`的功能，并替换popup中`shadowroot`的位置
  - `扫描全部节点`相当于忽略所有`忽略元素`，翻译全部内容，并同时扫描`shadowroot`
- 更新内置部分规则，新安装时会尝试同步订阅规则
- 其他一下小优化

## v2.0.19

- 修复油猴脚本切换翻译时的脚本错误
- 添加自动更新版本号脚本

## v2.0.18

- 支持翻译closed模式的 shadowroot 中的内容
- 保存规则时，可选子域名
- AI聚合翻译，支持流式传输，优化翻译体验
- 优化划词翻译窗口显示效果
  - 划词翻译按钮增加自动隐藏逻辑（5秒 / 移动100px / 右键）
- 增加翻译状态的图标显示，已翻译会有一个绿色小勾
- 优化输入框翻译，解决一些兼容性问题
  - 可设置在输入框上方显示一个圆形翻译按钮，使得移动端也可以使用输入框翻译功能
- 优化字幕翻译，增加一些新功能
  - 字幕翻译设置样式时，支持可视化编辑
  - 优化字幕翻译逻辑，优先使用用户选择的字幕轨
  - 字幕翻译右侧的字幕滚动列表可以手动点击按钮关闭
  - 字幕翻译的菜单去掉shadowroot
  - 增加下拉选项，可以随时切换AI断句的模型
  - 重构字幕增强功能设置，新增“移动端禁用”选项（默认）
- 优化移动端检测逻辑，修复触屏笔记本被误判为移动端的问题
- 在所有场景下均给AI接口添加上下文信息，包括网页标题、描述、摘要
- 翻译接口增加排序权重
- 新增占位标签格式，优化google2的翻译效果
- bing词典增加显示单词时态信息
